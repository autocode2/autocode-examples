(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1935:function(e,t,r){Promise.resolve().then(r.bind(r,5904))},5904:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s=r(7437),i=r(2265);let a=(0,i.createContext)(void 0),o=()=>{let e=(0,i.useContext)(a);if(!e)throw Error("useTodoContext must be used within a TodoProvider");return e},n=e=>{let{children:t}=e,[r,o]=(0,i.useState)([]),[n,l]=(0,i.useState)({}),[d,u]=(0,i.useState)({field:"createdDate",order:"desc"}),[c,m]=(0,i.useState)("");return(0,i.useEffect)(()=>{let e=localStorage.getItem("todos");e&&o(JSON.parse(e))},[]),(0,i.useEffect)(()=>{localStorage.setItem("todos",JSON.stringify(r))},[r]),(0,s.jsx)(a.Provider,{value:{todos:r,addTodo:e=>{o([...r,{...e,id:Date.now().toString(),createdDate:new Date}])},updateTodo:(e,t)=>{o(r.map(r=>r.id===e?{...r,...t}:r))},deleteTodo:e=>{o(r.filter(t=>t.id!==e))},filters:n,setFilters:l,sort:d,setSort:u,searchTerm:c,setSearchTerm:m},children:t})};var l=r(2974),d=r(2218),u=r(4839),c=r(6164);let m=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=i.forwardRef((e,t)=>{let{className:r,variant:i,size:a,asChild:o=!1,...n}=e,d=o?l.g7:"button";return(0,s.jsx)(d,{className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.m6)((0,u.W)(t))}(m({variant:i,size:a,className:r})),ref:t,...n})});p.displayName="Button";var h=()=>{let{addTodo:e}=o(),[t,r]=(0,i.useState)(""),[a,n]=(0,i.useState)(""),[l,d]=(0,i.useState)(""),[u,c]=(0,i.useState)("");return(0,s.jsxs)("form",{onSubmit:s=>{if(s.preventDefault(),!t.trim())return;let i={content:t.trim(),status:"todo",tags:l.split(",").map(e=>e.trim()).filter(Boolean)};a&&(i.dueDate=new Date(a)),u&&(i.priority=u),e(i),r(""),n(""),d(""),c("")},className:"mb-4",children:[(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Todo content",className:"w-full p-2 border rounded",required:!0})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("input",{type:"date",value:a,onChange:e=>n(e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("input",{type:"text",value:l,onChange:e=>d(e.target.value),placeholder:"Tags (comma-separated)",className:"w-full p-2 border rounded"})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsxs)("select",{value:u,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded",children:[(0,s.jsx)("option",{value:"",children:"Select priority"}),(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"})]})}),(0,s.jsx)(p,{type:"submit",children:"Add Todo"})]})},f=e=>{let{todo:t}=e,{updateTodo:r,deleteTodo:i}=o(),a=e=>{let s={status:e};"in progress"!==e||t.startedDate?"complete"!==e||t.completedDate||(s.completedDate=new Date):s.startedDate=new Date,r(t.id,s)},n=e=>{r(t.id,{priority:e})};return(0,s.jsxs)("div",{className:"border p-4 mb-4 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:t.content}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[(0,s.jsxs)("span",{className:"text-sm",children:["Status: ",t.status]}),t.dueDate&&(0,s.jsxs)("span",{className:"text-sm",children:["Due: ",t.dueDate.toLocaleDateString()]}),t.priority&&(0,s.jsxs)("span",{className:"text-sm",children:["Priority: ",t.priority]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:t.tags&&t.tags.map(e=>(0,s.jsx)("span",{className:"bg-gray-200 px-2 py-1 rounded-full text-xs",children:e},e))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(p,{size:"sm",variant:"todo"===t.status?"default":"outline",onClick:()=>a("todo"),children:"Todo"}),(0,s.jsx)(p,{size:"sm",variant:"in progress"===t.status?"default":"outline",onClick:()=>a("in progress"),children:"In Progress"}),(0,s.jsx)(p,{size:"sm",variant:"complete"===t.status?"default":"outline",onClick:()=>a("complete"),children:"Complete"})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)(p,{size:"sm",variant:"low"===t.priority?"default":"outline",onClick:()=>n("low"),children:"Low"}),(0,s.jsx)(p,{size:"sm",variant:"medium"===t.priority?"default":"outline",onClick:()=>n("medium"),children:"Medium"}),(0,s.jsx)(p,{size:"sm",variant:"high"===t.priority?"default":"outline",onClick:()=>n("high"),children:"High"}),(0,s.jsx)(p,{size:"sm",variant:"destructive",onClick:()=>i(t.id),children:"Delete"})]})]})},x=()=>{let{todos:e,filters:t,sort:r,searchTerm:i}=o(),a=[...((e,t)=>{if(!t)return e;let r=t.toLowerCase();return e.filter(e=>{var t;return e.content.toLowerCase().includes(r)||(null===(t=e.tags)||void 0===t?void 0:t.some(e=>e.toLowerCase().includes(r)))})})(e.filter(e=>{if(t.status&&e.status!==t.status||t.priority&&e.priority!==t.priority||t.tags&&t.tags.length>0&&(!e.tags||!t.tags.every(t=>(e.tags||[]).includes(t))))return!1;if(t.dueDate&&e.dueDate){let r=new Date(t.dueDate),s=new Date(e.dueDate);if(r.toDateString()!==s.toDateString())return!1}return!0}),i)].sort((e,t)=>{if("dueDate"===r.field)return e.dueDate?t.dueDate?"asc"===r.order?e.dueDate.getTime()-t.dueDate.getTime():t.dueDate.getTime()-e.dueDate.getTime():"asc"===r.order?-1:1:"asc"===r.order?1:-1;if(["createdDate","startedDate","completedDate"].includes(r.field)){let s=e[r.field],i=t[r.field];return s?i?"asc"===r.order?s.getTime()-i.getTime():i.getTime()-s.getTime():"asc"===r.order?-1:1:"asc"===r.order?1:-1}if("priority"===r.field){let s={low:1,medium:2,high:3},i=e.priority?s[e.priority]:0,a=t.priority?s[t.priority]:0;return"asc"===r.order?i-a:a-i}if("status"===r.field){let s={todo:1,"in progress":2,complete:3};return"asc"===r.order?s[e.status]-s[t.status]:s[t.status]-s[e.status]}return 0});return(0,s.jsx)("div",{children:a.map(e=>(0,s.jsx)(f,{todo:e},e.id))})},g=()=>{let{filters:e,setFilters:t,sort:r,setSort:i,searchTerm:a,setSearchTerm:n}=o(),l=r=>{t({...e,status:r})},d=r=>{t({...e,priority:r})},u=e=>{r.field===e?i({...r,order:"asc"===r.order?"desc":"asc"}):i({field:e,order:"asc"})};return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("input",{type:"text",value:a,onChange:e=>n(e.target.value),placeholder:"Search todos",className:"w-full p-2 border rounded"})}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"mr-2",children:"Status:"}),(0,s.jsx)(p,{size:"sm",variant:"todo"===e.status?"default":"outline",onClick:()=>l("todo"),children:"Todo"}),(0,s.jsx)(p,{size:"sm",variant:"in progress"===e.status?"default":"outline",onClick:()=>l("in progress"),children:"In Progress"}),(0,s.jsx)(p,{size:"sm",variant:"complete"===e.status?"default":"outline",onClick:()=>l("complete"),children:"Complete"}),(0,s.jsx)(p,{size:"sm",variant:e.status?"outline":"default",onClick:()=>l(void 0),children:"All"})]}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"mr-2",children:"Priority:"}),(0,s.jsx)(p,{size:"sm",variant:"low"===e.priority?"default":"outline",onClick:()=>d("low"),children:"Low"}),(0,s.jsx)(p,{size:"sm",variant:"medium"===e.priority?"default":"outline",onClick:()=>d("medium"),children:"Medium"}),(0,s.jsx)(p,{size:"sm",variant:"high"===e.priority?"default":"outline",onClick:()=>d("high"),children:"High"}),(0,s.jsx)(p,{size:"sm",variant:e.priority?"outline":"default",onClick:()=>d(void 0),children:"All"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"mr-2",children:"Sort by:"}),["dueDate","createdDate","startedDate","completedDate","priority","status"].map(e=>(0,s.jsxs)(p,{size:"sm",variant:r.field===e?"default":"outline",onClick:()=>u(e),children:[e," ",r.field===e&&("asc"===r.order?"↑":"↓")]},e))]})]})};function v(){return(0,s.jsx)(n,{children:(0,s.jsxs)("main",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-8",children:"Todo App"}),(0,s.jsx)(h,{}),(0,s.jsx)(g,{}),(0,s.jsx)(x,{})]})})}}},function(e){e.O(0,[637,971,23,744],function(){return e(e.s=1935)}),_N_E=e.O()}]);